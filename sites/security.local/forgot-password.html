<!doctype html>
<html lang="zh-CN">
<head>
<script>window.RelRoot = "../";</script>
  <meta charset="utf-8">
  <title>Forgot Password - Security</title>
  <link rel="stylesheet" href="../static/skin.css">
  <link rel="stylesheet" href="../static/components.css">
  <script src="../static/common.js"></script>
  <script src="../static/components.js"></script>
</head>
<body class="page" style="display:flex; align-items:center; justify-content:center; min-height:100vh">
  
  <div class="card soft" style="width:400px">
    <h1 style="text-align:center">找回密码</h1>
    
    <div class="form">
        <label>用户名 / 邮箱</label>
        <input id="username" class="input" placeholder="输入您的用户名">
        
        <button class="btn pri" style="width:100%; margin-top:24px" onclick="requestCode()">获取验证码</button>
        <div style="text-align:center; margin-top:16px">
            <a href="login.html" style="color:var(--pri)">返回登录</a>
        </div>
    </div>
  </div>

  <script>
  async function requestCode() {
      const username = document.getElementById('username').value;
      if (!username) {
          Toast.error("请输入用户名");
          return;
      }
      
      const resp = await send('Z5-2025-RESET', 'request_reset_code', {
          username: username
      });
      
      if (resp && resp.redirect) {
          window.location.href = resp.redirect;
      }
  }
  </script>
</body>
</html>

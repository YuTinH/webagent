<!doctype html>
<html lang="zh-CN">
<head>
<script>window.RelRoot = "../";</script>
  <meta charset="utf-8">
  <title>bank.local - 开户</title>
  <link rel="stylesheet" href="../static/skin.css">
  <link rel="stylesheet" href="../static/components.css">
  <script src="../static/common.js"></script>
  <script src="../static/components.js"></script>
</head>
<body class="page">
  <div class="navbar">
    <div class="inner">
      <div class="brand"><div class="logo"></div> Nebula Bank</div>
    </div>
  </div>
  <div class="container" style="max-width:480px">
    <h1 style="margin-bottom:24px">在线开户</h1>
    <div class="card soft">
      <div class="form">
        <label>姓名 / Full Name</label>
        <input id="fullname" class="input" placeholder="请输入姓名">
        
        <label>手机号 / Phone Number</label>
        <input id="phone" class="input" placeholder="+1-555-...">
        
        <label>居住地址 / Address</label>
        <textarea id="address" class="input" rows="3" placeholder="请输入详细地址"></textarea>
        
        <div style="margin-top:16px; display:flex; align-items:center; gap:8px">
          <input type="checkbox" id="enable2fa">
          <label for="enable2fa" style="margin:0">开启双重认证 (2FA)</label>
        </div>
        
        <button id="submit-btn" class="btn pri" style="margin-top:24px; width:100%" onclick="submitApp()">立即开户</button>
      </div>
    </div>
  </div>
  <script>
  async function submitApp() {
    const fullname = document.getElementById('fullname').value;
    const phone = document.getElementById('phone').value;
    const address = document.getElementById('address').value;
    const enable2fa = document.getElementById('enable2fa').checked;
    
    if (!fullname || !phone || !address) {
      Toast.error("请填写完整信息");
      return;
    }
    
    document.getElementById('submit-btn').disabled = true;
    document.getElementById('submit-btn').innerText = "提交中...";
    
    await send('A2-2025-BANK-OPEN', 'open_account', { fullname, phone, address, enable2fa });
  }
  </script>
</body>
</html>
